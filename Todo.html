<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Todo</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Todo.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Todo</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>To-do lists can be represented in three different ways:
</p><ul><li> String: a simple line-separated representation for saving lists to disk;
</li><li> List:   an internal representation;
</li><li> JSON:   a JSON representation for passing list data to the front-end.
</li></ul><p><em>Disk Representation</em>: Each line represents a to-do, and begins either with
 <code>-</code> to indicate an incomplete item, or <code>x</code> to indicate a completed one. Note
 that the list is ordered. Eg:
</p><pre> - One
 x Two
 - Three
</pre><p><em>Internal Representation</em>: A <code><a href="Todo.html#t:List">List</a></code> is a list of <code><a href="Todo.html#t:Item">Item</a></code>s. Each item is
 either a `Complete itemBody` or an `Incomplete itemBody`. Eg:
</p><pre> [ Complete &quot;One&quot;, Incomplete &quot;Two&quot;, Complete &quot;Three&quot; ]
</pre><p><em>JSON Representation</em>: Items in the JSON representation are explicity
 numbered. This corresponds to the numbering implicit in the ordering of the
 other representations. This is so a single item may be modified by the
 front-end without having to resend the entire list. Eg:
</p><pre> [
   { body: &quot;one&quot;,   done: false },
   { body: &quot;two&quot;,   done: true  },
   { body: &quot;three&quot;, done: false }
 ]
</pre><p>This module exports functions for manipulating the lists stored in
 <code>listDirectory</code>. There's not a lot of interesting logic - just conversion
 between the different representations, and a bunch of file IO.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:loadList">loadList</a> :: String -&gt; IO <a href="Todo.html#t:List">List</a></li><li class="src short"><a href="#v:addItem">addItem</a> :: String -&gt; <a href="Todo.html#t:Item">Item</a> -&gt; IO ()</li><li class="src short"><a href="#v:editItem">editItem</a> :: String -&gt; Int -&gt; <a href="Todo.html#t:Item">Item</a> -&gt; IO ()</li><li class="src short"><a href="#v:removeItem">removeItem</a> :: String -&gt; Int -&gt; IO ()</li><li class="src short"><a href="#v:showLists">showLists</a> :: IO [String]</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Item">Item</a> <ul class="subs"><li>= <a href="#v:Complete">Complete</a> { <ul class="subs"><li><a href="#v:itemBody">itemBody</a> :: String</li></ul> }</li><li>| <a href="#v:Incomplete">Incomplete</a> { <ul class="subs"><li><a href="#v:itemBody">itemBody</a> :: String</li></ul> }</li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:List">List</a>  = <a href="#v:List">List</a> [<a href="Todo.html#t:Item">Item</a>]</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:loadList" class="def">loadList</a> :: String -&gt; IO <a href="Todo.html#t:List">List</a></p><div class="doc"><p>Read the contents of <code>listDirectory</code>/<code>listName</code>, parse it, and return a List
</p></div></div><div class="top"><p class="src"><a name="v:addItem" class="def">addItem</a> :: String -&gt; <a href="Todo.html#t:Item">Item</a> -&gt; IO ()</p><div class="doc"><p>Append <code>item</code> to <code>listDirectory</code>/<code>listName</code>
</p></div></div><div class="top"><p class="src"><a name="v:editItem" class="def">editItem</a> :: String -&gt; Int -&gt; <a href="Todo.html#t:Item">Item</a> -&gt; IO ()</p><div class="doc"><p>Replace the <code>itemId</code>th item in <code>listDirectory</code>/<code>listName</code> with <code>item</code>
</p></div></div><div class="top"><p class="src"><a name="v:removeItem" class="def">removeItem</a> :: String -&gt; Int -&gt; IO ()</p><div class="doc"><p>Remove the <code>itemId</code>th item from <code>listDirectory</code>/<code>listName</code>
</p></div></div><div class="top"><p class="src"><a name="v:showLists" class="def">showLists</a> :: IO [String]</p><div class="doc"><p>Return the names of the files in <code>listDirectory</code>.
</p></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Item" class="def">Item</a>  </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Complete" class="def">Complete</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:itemBody" class="def">itemBody</a> :: String</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr><tr><td class="src"><a name="v:Incomplete" class="def">Incomplete</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:itemBody" class="def">itemBody</a> :: String</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Item" class="caption collapser" onclick="toggleSection('i:Item')">Instances</p><div id="section.i:Item" class="show"><table><tr><td class="src">Eq <a href="Todo.html#t:Item">Item</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Show <a href="Todo.html#t:Item">Item</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">FromJSON <a href="Todo.html#t:Item">Item</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:List" class="def">List</a>  </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:List" class="def">List</a> [<a href="Todo.html#t:Item">Item</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:List" class="caption collapser" onclick="toggleSection('i:List')">Instances</p><div id="section.i:List" class="show"><table><tr><td class="src">Eq <a href="Todo.html#t:List">List</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Show <a href="Todo.html#t:List">List</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">ToJSON <a href="Todo.html#t:List">List</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2.1</p></div></body></html>